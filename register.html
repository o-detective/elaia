<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Εγγραφή Επαγγελματία</title>
  <style>
    body {
      background-color: #fdf6f2;
      font-family: "Georgia", serif;
      color: #4a4a35;
    }

    .form-container {
      max-width: 500px;
      margin: 50px auto;
      padding: 30px;
      background-color: #fffdf7;
      border: 2px solid #7d8053;
      border-radius: 10px;
    }

    .logo-wrapper {
      text-align: center;
      margin-bottom: 15px;
    }

    .logo-wrapper img {
      max-width: 100px;
      height: auto;
      opacity: 0.9;
      border-radius: 8px;
    }

    .form-container h2 {
      text-align: center;
      color: #7d8053;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 6px;
    }

    .form-group input,
    .form-group select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    .price-display {
      margin: 10px 0;
      font-weight: bold;
      color: #7d8053;
    }

    .form-group.checkbox {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .terms-label {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 15px;
      font-size: 14px;
      line-height: 1.4;
      flex-wrap: wrap;
      max-width: 100%;
    }

    button {
      background-color: #7d8053;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 6px;
      width: 100%;
      cursor: pointer;
      font-weight: bold;
    }

    button:hover {
      background-color: #6b7049;
    }
  </style>

<!-- Firebase SDK -->
<script type="module">
  // Import Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
  import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  // Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyA01bUzHHoJre5KgdHpx-jsyosIULx7-ko",
    authDomain: "elaiaapp86.firebaseapp.com",
    projectId: "elaiaapp86",
    storageBucket: "elaiaapp86.firebasestorage.app",
    messagingSenderId: "458987445654",
    appId: "1:458987445654:web:4df5d7522ef451a600d1b7",
    measurementId: "G-VWJQQTCG1N"
  };

  // Init Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  // Συνάρτηση εγγραφής
  document.getElementById("registration-form").addEventListener("submit", async (e) => {
    e.preventDefault();

    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    const confirmPassword = document.getElementById("confirm-password").value;
    const phone = document.getElementById("phone").value;
    const region = document.getElementById("region").value;
    const type = document.getElementById("venue-type").value;

    if (password !== confirmPassword) {
      alert("Οι κωδικοί δεν ταιριάζουν!");
      return;
    }

    try {
      const userCredential = await createUserWithEmailAndPassword(auth, email, password);
      const user = userCredential.user;

      // Αποθήκευση επιπλέον στοιχείων στο Firestore
      await setDoc(doc(db, "professionals", user.uid), {
        email,
        phone,
        region,
        type
      });

      alert("Η εγγραφή ήταν επιτυχής!");
      window.location.href = "profile.html"; // θα φτιάξουμε αυτή τη σελίδα μετά
    } catch (error) {
      console.error("Σφάλμα κατά την εγγραφή:", error);
      alert("Κάτι πήγε στραβά: " + error.message);
    }
  });
</script>
  
</head>
<body>
  <div class="form-container">
    <div class="logo-wrapper">
      <img src="2ECB64C0-85F0-4F73-96D8-C34E7E91208F.png" alt="Elaia Logo" />
    </div>
    <h2>Εγγραφή Επαγγελματία</h2>
    <form>
      <div class="form-group">
        <label for="name">Ονοματεπώνυμο</label>
        <input type="text" id="name" required />
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" required />
      </div>

      <div class="form-group">
        <label for="phone">Τηλέφωνο</label>
        <input type="tel" id="phone" required />
      </div>

      <div class="form-group">
        <label for="region">Περιοχή/Έδρα</label>
        <select id="region" required>
          <option value="">-- Επιλέξτε Περιοχή --</option>
          <option>Αττικης</option>
          <option>Ευβοιας</option>
          <option>Ευρυτανιας</option>
          <option>Φωκιδας</option>
          <option>Φθιωτιδας</option>
          <option>Βοιωτιας</option>
          <option>Χαλκιδικης</option>
          <option>Ημαθιας</option>
          <option>Κιλκις</option>
          <option>Πελλας</option>
          <option>Πιεριας</option>
          <option>Σερρων</option>
          <option>Θεσσαλονικης</option>
          <option>Χανιων</option>
          <option>Ηρακλειου</option>
          <option>Λασιθιου</option>
          <option>Ρεθυμνης</option>
          <option>Δραμας</option>
          <option>Εβρου</option>
          <option>Καβαλας</option>
          <option>Ροδοπης</option>
          <option>Ξανθης</option>
          <option>Αρτας</option>
          <option>Ιωαννινων</option>
          <option>Πρεβεζας</option>
          <option>Θεσπρωτιας</option>
          <option>Κερκυρας</option>
          <option>Παξοι</option>
          <option>Κυθηρα</option>
          <option>Κεφαλληνιας</option>
          <option>Λευκαδας</option>
          <option>Ζακυνθου</option>
          <option>Ιθακης</option>
          <option>Λοιπα ιονια νησια</option>
          <option>Ικαρια</option>
          <option>Λημνος</option>
          <option>Χιου</option>
          <option>Λεσβου</option>
          <option>Σαμου</option>
          <option>Αρκαδιας</option>
          <option>Αργολιδας</option>
          <option>Κορινθιας</option>
          <option>Λακωνιας</option>
          <option>Μεσσηνιας</option>
          <option>Λοιπα νηςια Κυκλαδων</option>
          <option>Ανδρος</option>
          <option>Σαντορινη</option>
          <option>Μηλος</option>
          <option>Μυκονος</option>
          <option>Ναξος</option>
          <option>Παρος</option>
          <option>Τηνος</option>
          <option>Συρος</option>
          <option>Λοιπα νησια Δωδεκανησων</option>
          <option>Ροδος</option>
          <option>Καρπαθος</option>
          <option>Κως</option>
          <option>Αστυπαλαια</option>
          <option>Πατμος</option>
          <option>Καστελλοριζο</option>
          <option>Καρδιτσας</option>
          <option>Λαρισης</option>
          <option>Μαγνησιας</option>
          <option>Τρικαλων</option>
          <option>Αχαιας</option>
          <option>Αιτωλοακαρνανιας</option>
          <option>Ηλειας</option>
          <option>Φλωρινας</option>
          <option>Γρεβενων</option>
          <option>Καστοριας</option>
          <option>Κοζανης</option>
          <option>Θασος</option>
          <option>Σαμοθρακη</option>
          <option>Σκιαθος</option>
          <option>Σκοπελος</option>
          <option>Αλοννησος</option>
          <option>Σκυρος</option>
        </select>
      </div>

      <div class="form-group">
        <label for="category">Κατηγορία Επαγγέλματος</label>
        <select id="category" required>
          <option value="">-- Επιλέξτε Κατηγορία --</option>
          <option>Χώρος/Κτήμα</option>
          <option>Διακόσμηση</option>
          <option>Φωτογράφος/Βίντεο</option>
          <option>Makeup/Hair</option>
          <option>Εκκλησία/Ιερέας</option>
          <option>Μουσική</option>
          <option>Catering</option>
          <option>Προσκλητήρια/Μπομπονιέρες</option>
          <option>Φορέματα/Ρούχα</option>
          <option>Άλλο</option>
        </select>
      </div>

      <div class="price-display" id="priceDisplay">Ετήσια Συνδρομή: €500</div>

      <div class="form-group">
        <label for="password">Κωδικός Πρόσβασης</label>
        <input type="password" id="password" required />
      </div>

      <div class="form-group">
        <label for="confirm-password">Επιβεβαίωση Κωδικού</label>
        <input type="password" id="confirm-password" required />
      </div>

      <label class="terms-label">
        <input type="checkbox" required />
        Αποδέχομαι τους όρους χρήσης και την ετήσια συνδρομή.
      </label>

      <button type="submit">Πληρωμή</button>
    </form>
  </div>
</body>
</html>

<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Elaia - Εκδηλώσεις</title>
  <link rel="stylesheet" href="style.css"/>
  <style>
  .ai-bar textarea,
  #popupInput,
  #aiResponse {
    font-family: 'Georgia', serif;
    font-size: 18px;
    color: #fffbe0;
    background-color: #7d8053;
    border: 1px solid #ccc;
    border-radius: 8px;
    padding: 10px;
  }

  .ai-bar button,
  #aiPopup button {
    font-size: 16px;
    font-family: 'Georgia', serif;
    background-color: #7d8053;
    color: white;
    border: none;
    padding: 10px 15px;
    margin-top: 5px;
    border-radius: 8px;
    cursor: pointer;
  }

  #aiResponse {
    margin-bottom: 10px;
    white-space: pre-wrap;
  }

  /* 👇 Εδώ προσθέτεις το σωστό popup στυλ */
  #aiPopup {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #7d8053;
    color: gold;
    padding: 30px;
    border-radius: 16px;
    width: 95%;
    max-width: 700px;
    min-height: 300px;
    font-size: 18px;
    font-family: 'Georgia', serif;
    z-index: 9999;
    box-shadow: 0 0 15px rgba(0,0,0,0.5);
    overflow-y: auto;
    max-height: 90vh;
  }
</style>
</head>
<body>
  <div class="top-bar">
  <button class="top-btn">Σύνδεση</button>
  <button class="top-btn">Εγγραφή</button>
  <button class="top-btn launch">Launch</button>
</div>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo-container">
        <img src="https://raw.githubusercontent.com/o-detective/elaia/main/2ECB64C0-85F0-4F73-96D8-C34E7E91208F.png" alt="Logo" class="logo-img" />
      </div>
      <ul class="menu">
        <li><button class="menu-btn">Γάμος</button></li>
        <li><button class="menu-btn">Βάφτιση</button></li>
        <li><button class="menu-btn">Πάρτι</button></li>
        <li><button class="menu-btn">Συνέδρια</button></li>
      </ul>
    </aside>

    <!-- Main Content -->
    <main class="content">

     <!-- Χάρτης Ελλάδας (77 περιοχές - inline SVG) -->
<div class="map-container">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1400" id="greece-map">
    <style>
      .region {
        fill: #7d8053;
        stroke: #fff;
        stroke-width: 2;
        cursor: pointer;
        transition: fill 0.3s;
      }
      .region:hover {
        fill: #a5a77d;
      }
      .region.selected {
        fill: #444;
      }
    </style>

    <!-- Κάθε περιοχή σε τετράγωνο grid layout -->
    <!-- Εδώ είναι ΟΛΕΣ οι 77 περιοχές (σε απλό placeholder grid) -->
    <!-- Μπορείς να αλλάξεις το viewBox/θέσεις αργότερα αν θέλεις κανονικούς χάρτες -->

    <!-- Στήλες: 11 περιοχές ανά γραμμή, 7 σειρές -->
    <!-- 70 περιοχές + 7 επιπλέον κάτω για 77 συνολικά -->

    <!-- Γραμμή 1 -->
    <path id="attikis" data-name="Αττικης" class="region" d="M0,0 h80 v80 h-80 Z" />
    <path id="evvoias" data-name="Ευβοιας" class="region" d="M90,0 h80 v80 h-80 Z" />
    <path id="evrytanias" data-name="Ευρυτανιας" class="region" d="M180,0 h80 v80 h-80 Z" />
    <path id="fokidas" data-name="Φωκιδας" class="region" d="M270,0 h80 v80 h-80 Z" />
    <path id="fthiotidas" data-name="Φθιωτιδας" class="region" d="M360,0 h80 v80 h-80 Z" />
    <path id="voiotias" data-name="Βοιωτιας" class="region" d="M450,0 h80 v80 h-80 Z" />
    <path id="chalkidikis" data-name="Χαλκιδικης" class="region" d="M540,0 h80 v80 h-80 Z" />
    <path id="imathias" data-name="Ημαθιας" class="region" d="M630,0 h80 v80 h-80 Z" />
    <path id="kilkis" data-name="Κιλκις" class="region" d="M720,0 h80 v80 h-80 Z" />
    <path id="pellas" data-name="Πελλας" class="region" d="M810,0 h80 v80 h-80 Z" />
    <path id="pierias" data-name="Πιεριας" class="region" d="M900,0 h80 v80 h-80 Z" />

    <!-- Γραμμή 2 -->
    <path id="serron" data-name="Σερρων" class="region" d="M0,90 h80 v80 h-80 Z" />
    <path id="thessalonikis" data-name="Θεσσαλονικης" class="region" d="M90,90 h80 v80 h-80 Z" />
    <path id="chanion" data-name="Χανιων" class="region" d="M180,90 h80 v80 h-80 Z" />
    <path id="irakleiou" data-name="Ηρακλειου" class="region" d="M270,90 h80 v80 h-80 Z" />
    <path id="lasithiou" data-name="Λασιθιου" class="region" d="M360,90 h80 v80 h-80 Z" />
    <path id="rethymnis" data-name="Ρεθυμνης" class="region" d="M450,90 h80 v80 h-80 Z" />
    <path id="dramas" data-name="Δραμας" class="region" d="M540,90 h80 v80 h-80 Z" />
    <path id="evrou" data-name="Εβρου" class="region" d="M630,90 h80 v80 h-80 Z" />
    <path id="kavalas" data-name="Καβαλας" class="region" d="M720,90 h80 v80 h-80 Z" />
    <path id="rodopis" data-name="Ροδοπης" class="region" d="M810,90 h80 v80 h-80 Z" />
    <path id="xanthis" data-name="Ξανθης" class="region" d="M900,90 h80 v80 h-80 Z" />

    <!-- Γραμμή 3 -->
    <path id="artas" data-name="Αρτας" class="region" d="M0,180 h80 v80 h-80 Z" />
    <path id="ioanninon" data-name="Ιωαννινων" class="region" d="M90,180 h80 v80 h-80 Z" />
    <path id="prevezas" data-name="Πρεβεζας" class="region" d="M180,180 h80 v80 h-80 Z" />
    <path id="thesprotias" data-name="Θεσπρωτιας" class="region" d="M270,180 h80 v80 h-80 Z" />
    <path id="kerkyras" data-name="Κερκυρας" class="region" d="M360,180 h80 v80 h-80 Z" />
    <path id="paxoi" data-name="Παξοι" class="region" d="M450,180 h80 v80 h-80 Z" />
    <path id="kythira" data-name="Κυθηρα" class="region" d="M540,180 h80 v80 h-80 Z" />
    <path id="kefallinias" data-name="Κεφαλληνιας" class="region" d="M630,180 h80 v80 h-80 Z" />
    <path id="lefkadas" data-name="Λευκαδας" class="region" d="M720,180 h80 v80 h-80 Z" />
    <path id="zakynthou" data-name="Ζακυνθου" class="region" d="M810,180 h80 v80 h-80 Z" />
    <path id="ithakis" data-name="Ιθακης" class="region" d="M900,180 h80 v80 h-80 Z" />

    <!-- Γραμμή 4 -->
    <path id="loipa-ionia" data-name="Λοιπα ιονια νησια" class="region" d="M0,270 h80 v80 h-80 Z" />
    <path id="ikarias" data-name="Ικαρια" class="region" d="M90,270 h80 v80 h-80 Z" />
    <path id="limnos" data-name="Λημνος" class="region" d="M180,270 h80 v80 h-80 Z" />
    <path id="chiou" data-name="Χιου" class="region" d="M270,270 h80 v80 h-80 Z" />
    <path id="lesvou" data-name="Λεσβου" class="region" d="M360,270 h80 v80 h-80 Z" />
    <path id="samou" data-name="Σαμου" class="region" d="M450,270 h80 v80 h-80 Z" />
    <path id="arkadias" data-name="Αρκαδιας" class="region" d="M540,270 h80 v80 h-80 Z" />
    <path id="argolidas" data-name="Αργολιδας" class="region" d="M630,270 h80 v80 h-80 Z" />
    <path id="korinthias" data-name="Κορινθιας" class="region" d="M720,270 h80 v80 h-80 Z" />
    <path id="lakonias" data-name="Λακωνιας" class="region" d="M810,270 h80 v80 h-80 Z" />
    <path id="messinias" data-name="Μεσσηνιας" class="region" d="M900,270 h80 v80 h-80 Z" />

    <!-- Γραμμή 5 -->
    <path id="loipa-kyklades" data-name="Λοιπα νηςια Κυκλαδων" class="region" d="M0,360 h80 v80 h-80 Z" />
    <path id="andros" data-name="Ανδρος" class="region" d="M90,360 h80 v80 h-80 Z" />
    <path id="santorini" data-name="Σαντορινη" class="region" d="M180,360 h80 v80 h-80 Z" />
    <path id="milos" data-name="Μηλος" class="region" d="M270,360 h80 v80 h-80 Z" />
    <path id="mykonos" data-name="Μυκονος" class="region" d="M360,360 h80 v80 h-80 Z" />
    <path id="naxos" data-name="Ναξος" class="region" d="M450,360 h80 v80 h-80 Z" />
    <path id="paros" data-name="Παρος" class="region" d="M540,360 h80 v80 h-80 Z" />
    <path id="tinos" data-name="Τηνος" class="region" d="M630,360 h80 v80 h-80 Z" />
    <path id="syros" data-name="Συρος" class="region" d="M720,360 h80 v80 h-80 Z" />
    <path id="loipa-dodekanisa" data-name="Λοιπα νησια Δωδεκανησων" class="region" d="M810,360 h80 v80 h-80 Z" />
    <path id="rodou" data-name="Ροδος" class="region" d="M900,360 h80 v80 h-80 Z" />

    <!-- Γραμμή 6 -->
    <path id="karpathou" data-name="Καρπαθος" class="region" d="M0,450 h80 v80 h-80 Z" />
    <path id="kos" data-name="Κως" class="region" d="M90,450 h80 v80 h-80 Z" />
    <path id="astypalaia" data-name="Αστυπαλαια" class="region" d="M180,450 h80 v80 h-80 Z" />
    <path id="patmos" data-name="Πατμος" class="region" d="M270,450 h80 v80 h-80 Z" />
    <path id="kastellorizo" data-name="Καστελλοριζο" class="region" d="M360,450 h80 v80 h-80 Z" />
    <path id="karditsas" data-name="Καρδιτσας" class="region" d="M450,450 h80 v80 h-80 Z" />
    <path id="larisis" data-name="Λαρισης" class="region" d="M540,450 h80 v80 h-80 Z" />
    <path id="magnisias" data-name="Μαγνησιας" class="region" d="M630,450 h80 v80 h-80 Z" />
    <path id="trikalon" data-name="Τρικαλων" class="region" d="M720,450 h80 v80 h-80 Z" />
    <path id="achaias" data-name="Αχαιας" class="region" d="M810,450 h80 v80 h-80 Z" />
    <path id="aitoloakarnanias" data-name="Αιτωλοακαρνανιας" class="region" d="M900,450 h80 v80 h-80 Z" />

    <!-- Γραμμή 7 -->
    <path id="ileias" data-name="Ηλειας" class="region" d="M0,540 h80 v80 h-80 Z" />
    <path id="florinas" data-name="Φλωρινας" class="region" d="M90,540 h80 v80 h-80 Z" />
    <path id="grevenon" data-name="Γρεβενων" class="region" d="M180,540 h80 v80 h-80 Z" />
    <path id="kastorias" data-name="Καστοριας" class="region" d="M270,540 h80 v80 h-80 Z" />
    <path id="kozanh" data-name="Κοζανης" class="region" d="M360,540 h80 v80 h-80 Z" />
    <path id="thasos" data-name="Θασος" class="region" d="M450,540 h80 v80 h-80 Z" />
    <path id="samothraki" data-name="Σαμοθρακη" class="region" d="M540,540 h80 v80 h-80 Z" />
    <path id="skiathos" data-name="Σκιαθος" class="region" d="M630,540 h80 v80 h-80 Z" />
    <path id="skopelos" data-name="Σκοπελος" class="region" d="M720,540 h80 v80 h-80 Z" />
    <path id="alonissos" data-name="Αλοννησος" class="region" d="M810,540 h80 v80 h-80 Z" />
    <path id="skyros" data-name="Σκυρος" class="region" d="M900,540 h80 v80 h-80 Z" />

  </svg>
</div>

      <!-- Οδηγία επιλογής -->
      <div style="text-align: center; margin-top: 20px; font-weight: bold;">
        Επιλέξτε απ’ τον χάρτη
      </div>

     <!-- AI Bar -->
<section class="ai-bar" style="margin-top: 20px;">
  <textarea id="aiInput" placeholder="Π.χ. Πού μπορώ να παντρευτώ σε νησί με θέα;"></textarea>
  <button onclick="openPopup()">Αποστολή</button>
</section>

<!-- AI Popup -->
<div id="aiPopup" style="
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #7d8053;
  color: gold;
  padding: 30px;
  border-radius: 16px;
  width: 95%;
  max-width: 700px;
  min-height: 300px;
  font-size: 18px;
  font-family: 'Georgia', serif;
  z-index: 9999;
  box-shadow: 0 0 15px rgba(0,0,0,0.5);
">
  <div id="aiResponse" style="min-height: 120px;"></div>
  <textarea id="popupInput" placeholder="Συνέχισε τη συζήτηση..." style="width: 100%; margin-top: 10px;"></textarea>
  <div style="margin-top: 10px; text-align: right;">
    <button onclick="continueChat()">Αποστολή</button>
    <button onclick="closePopup()">Κλείσιμο</button>
  </div>
</div>

      <div class="search-filters">
  <div class="filter-group">
    <label for="region">Περιοχή:</label>
    <select id="region">
      <option selected disabled>Επιλέξτε περιοχή</option>
      <option>Αττικης</option>
      <option>Ευβοιας</option>
      <option>Ευρυτανιας</option>
      <option>Φωκιδας</option>
      <option>Φθιωτιδας</option>
      <option>Βοιωτιας</option>
      <option>Χαλκιδικης</option>
      <option>Ημαθιας</option>
      <option>Κιλκις</option>
      <option>Πελλας</option>
      <option>Πιεριας</option>
      <option>Σερρων</option>
      <option>Θεσσαλονικης</option>
      <option>Χανιων</option>
      <option>Ηρακλειου</option>
      <option>Λασιθιου</option>
      <option>Ρεθυμνης</option>
      <option>Δραμας</option>
      <option>Εβρου</option>
      <option>Καβαλας</option>
      <option>Ροδοπης</option>
      <option>Ξανθης</option>
      <option>Αρτας</option>
      <option>Ιωαννινων</option>
      <option>Πρεβεζας</option>
      <option>Θεσπρωτιας</option>
      <option>Κερκυρας</option>
      <option>Παξοι</option>
      <option>Κυθηρα</option>
      <option>Κεφαλληνιας</option>
      <option>Λευκαδας</option>
      <option>Ζακυνθου</option>
      <option>Ιθακης</option>
      <option>Λοιπα ιονια νησια</option>
      <option>Ικαρια</option>
      <option>Λημνος</option>
      <option>Χιου</option>
      <option>Λεσβου</option>
      <option>Σαμου</option>
      <option>Αρκαδιας</option>
      <option>Αργολιδας</option>
      <option>Κορινθιας</option>
      <option>Λακωνιας</option>
      <option>Μεσσηνιας</option>
      <option>Λοιπα νηςια Κυκλαδων</option>
      <option>Ανδρος</option>
      <option>Σαντορινη</option>
      <option>Μηλος</option>
      <option>Μυκονος</option>
      <option>Ναξος</option>
      <option>Παρος</option>
      <option>Τηνος</option>
      <option>Συρος</option>
      <option>Λοιπα νησια Δωδεκανησων</option>
      <option>Ροδος</option>
      <option>Καρπαθος</option>
      <option>Κως</option>
      <option>Αστυπαλαια</option>
      <option>Πατμος</option>
      <option>Καστελλοριζο</option>
      <option>Καρδιτσας</option>
      <option>Λαρισης</option>
      <option>Μαγνησιας</option>
      <option>Τρικαλων</option>
      <option>Αχαιας</option>
      <option>Αιτωλοακαρνανιας</option>
      <option>Ηλειας</option>
      <option>Φλωρινας</option>
      <option>Γρεβενων</option>
      <option>Καστοριας</option>
      <option>Κοζανης</option>
      <option>Θασος</option>
      <option>Σαμοθρακη</option>
      <option>Σκιαθος</option>
      <option>Σκοπελος</option>
      <option>Αλοννησος</option>
      <option>Σκυρος</option>
    </select>
  </div>

  <div class="filter-group">
    <label for="venue-type">Είδος:</label>
    <select id="venue-type">
      <option selected disabled>Επιλέξτε είδος</option>
      <option>Γαμος</option>
      <option>Βαφτιση</option>
      <option>Παρτι</option>
      <option>Συνεδρια</option>
    </select>
  </div>

  <div class="filter-group">
    <label for="pro-type">Είδος επαγγελματία:</label>
    <select id="pro-type">
      <option selected disabled>Επιλέξτε επαγγελματία</option>
      <option>Χώρος/Κτήμα</option>
      <option>Κομμωτήρια</option>
      <option>Make up artists</option>
      <option>Nail artists</option>
      <option>Φωτογράφοι</option>
      <option>DJs</option>
      <option>Διακοσμητές</option>
      <option>Catering</option>
      <option>Βιντεογράφοι</option>
      <option>Ζαχαροπλαστεία / Τούρτες</option>
      <option>Ανθοπωλεία / Ανθοστολισμοί</option>
      <option>Ενδυματολόγοι / Ράφτες</option>
      <option>Μπαρ</option>
      <option>Ενοικίαση εξοπλισμού</option>
    </select>
  </div>
</div>

      <div style="text-align: center; margin-top: 20px;">
  <button onclick="searchResults()" style="
    background-color: #7d8053;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
  ">Αναζήτηση</button>
</div>

<!-- Καρουζέλ τοπ χώροι + τοπ συνεργάτες -->
<section class="carousel-row">
  <!-- Πρώτο καρουζέλ -->
  <div class="carousel">
    <h2>Top χώροι του μήνα</h2>
    <div class="carousel-track">
      <a class="carousel-item" href="clients/ktima-1.html">Χώρος 1</a>
      <a class="carousel-item" href="clients/ktima-1.html">Χώρος 2</a>
      <a class="carousel-item" href="clients/ktima-1.html">Χώρος 3</a>
    </div>
  </div>

  <!-- Δεύτερο καρουζέλ -->
  <div class="carousel">
    <h2>Top συνεργάτες του μήνα</h2>
    <div class="carousel-track">
      <a class="carousel-item" href="clients/ktima-1.html">Συνεργάτης 1</a>
      <a class="carousel-item" href="clients/ktima-1.html">Συνεργάτης 2</a>
      <a class="carousel-item" href="clients/ktima-1.html">Συνεργάτης 3</a>
    </div>
  </div>
</section>
      <!-- Εμπνευστείτε -->
<section class="carousel">
  <h2>Εμπνευστείτε από την Elaia</h2>
  <div class="carousel-track">
    
    <!-- Κουτί 1: Σαντορίνη -->
    <div class="carousel-item">
      <a href="destinations/santorini.html" class="carousel-link">
        <img src="images/santorini1.jpg" alt="Σαντορίνη" class="carousel-image" />
        <h3>Σαντορίνη</h3>
        <p>Ονειρικός προορισμός για τον γάμο σας ή την έμπνευσή σας.</p>
      </a>
    </div>

    <!-- Μεσαίο κουτί: AI Διακόσμηση -->
<div class="carousel-item">
  <a href="pages/decor.html" class="carousel-link">
    <img src="images/decor1.jpg" alt="AI Διακόσμηση" class="carousel-image" />
    <h3>AI Διακόσμηση</h3>
    <p>Ιδέες για στολισμούς, τραπέζια, κεριά, λουλούδια και άλλα από AI.</p>
  </a>
</div>

  <!-- Κουτί 3: AI Έμπνευση -->
<div class="carousel-item">
  <a href="pages/ideas.html" class="carousel-link">
    <img src="images/idea1.jpg" alt="AI Έμπνευση" class="carousel-image" />
    <h3>AI Έμπνευση</h3>
    <p>Νυφικά, χτενίσματα, τούρτες, τοπία και προσκλήσεις εμπνευσμένα από την τεχνητή νοημοσύνη.</p>
  </a>
</div>

  </div>
</section>

<!-- JavaScript -->
<script>
// SVG επιλογή περιοχής (inline version)
document.addEventListener("DOMContentLoaded", function () {
  const regions = document.querySelectorAll("svg .region");
  regions.forEach(region => {
    region.style.cursor = "pointer";

    region.addEventListener("click", () => {
      // αφαίρεσε τυχόν προηγούμενη επιλογή
      regions.forEach(r => r.classList.remove("selected"));

      // πρόσθεσε κλάση selected στην επιλεγμένη
      region.classList.add("selected");

      // κάνε redirect στη σωστή σελίδα
      const name = region.getAttribute("data-name");
      const filename = `destinations/${name.toLowerCase().replace(/ /g, "-")}.html`;
      window.location.href = filename;
    });
  });
});

  // AI popup λειτουργία
  let conversationHistory = [];

  function openPopup() {
    const input = document.getElementById("aiInput").value;
    if (!input.trim()) return;

    conversationHistory = [{ role: "user", content: input }];
    document.getElementById("aiPopup").style.display = "block";
    document.getElementById("popupInput").value = "";

    sendToAI(conversationHistory);
  }

  function closePopup() {
    document.getElementById("aiPopup").style.display = "none";
    document.getElementById("aiResponse").innerHTML = "";
    conversationHistory = [];
  }

  function continueChat() {
    const newInput = document.getElementById("popupInput").value;
    if (!newInput.trim()) return;

    conversationHistory.push({ role: "user", content: newInput });
    document.getElementById("popupInput").value = "";
    sendToAI(conversationHistory);
  }

  async function sendToAI(messages) {
  const responseBox = document.getElementById("aiResponse");

  // Αν είναι η πρώτη ερώτηση, πρόσθεσε system prompt
  if (!messages.find(m => m.role === "system")) {
    messages.unshift({
      role: "system",
      content: "Απάντα πάντα με φυσική, ζεστή και ανθρώπινη ελληνική γλώσσα, σαν να είσαι σύμβουλος που βοηθάει ζευγάρια να οργανώσουν την τέλεια εκδήλωση στην Ελλάδα. Απόφυγε αγγλικές λέξεις και απάντα απλά και κατανοητά."
    });
  }

  // Δείξε τι έγραψε ο χρήστης
  const lastUserMessage = messages[messages.length - 1].content;
  responseBox.innerHTML += `<div><strong>Εσύ:</strong> ${lastUserMessage}</div>`;

  // Δείξε ένδειξη αναμονής
  responseBox.innerHTML += `<div><em>Η Elaia σκέφτεται... ⏳</em></div>`;

  try {
    const res = await fetch("/.netlify/functions/ask-ai", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ messages })
    });

    const data = await res.json();
    const reply = data?.reply || data?.choices?.[0]?.message?.content || "⚠️ Δεν υπήρξε απάντηση.";

    conversationHistory.push({ role: "assistant", content: reply });

    // Καθαρισμός ένδειξης αναμονής
    const tempWait = responseBox.querySelector("em");
    if (tempWait) tempWait.remove();

    // Εμφάνιση απάντησης
    responseBox.innerHTML += `<div><strong>Elaia:</strong> ${reply}</div>`;
  } catch (err) {
    console.error("AI error:", err);
    responseBox.innerHTML += `<div><strong>Σφάλμα:</strong> ❌ Κάτι πήγε στραβά.</div>`;
  }
}
</script>

  <script>
  function searchResults() {
    const region = document.getElementById("region").value;
    const event = document.getElementById("venue-type").value;
    const type = document.getElementById("pro-type").value;

    if (!region || !event || !type) {
      alert("Παρακαλώ συμπληρώστε όλα τα φίλτρα.");
      return;
    }

    const url = `results.html?region=${encodeURIComponent(region)}&event=${encodeURIComponent(event)}&type=${encodeURIComponent(type)}`;
    window.location.href = url;
  }
</script>
